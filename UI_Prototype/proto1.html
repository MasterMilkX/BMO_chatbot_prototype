<!DOCTYPE html>
<html>
    <head>
        <title>BMO Game Designer</title>
        <style>
            /* 
                COLORS:
                    //blade-runner palette
                    #022946
                    #01435D
                    #058F9E
                    #0B738E
                    #005076
                    #FF36DA

                    #4CAA98  //outside
                    #81E5D1  //face
            */
            :root{
                --bmo_color: #81E5D1;
                --user_color: #fff;
            }
            body{
                background-color: #01435D;
                color: #FFFFFF;
            }
            #container{
                /* temp height */
                width:900px;
                height:600px;
                margin:auto;

                border:3px solid white;
                display:flex;
                
            }
            #right-half{
                width:280px;
                height:100%;
                background-color:#000;
                border-left:3px solid white;
            }


            #editor{
                width:620px;
                height:100%;
                background-color:#000;
                float:left;
            }
            #ace-code{
                width:100%;
                height:100%;
                background-color:#000;
                border:0px;
            }


            #bmo{
                width:280px;
                height:175px;
                background-color:#fff;
            }
            #bmo-face{
                width:280px;
                height:175px;
            }


            #chat{
                width:280px;
                height:425px;
                background-color:#022946;
                /* border:1px solid red; */
            }
            #chat-out{
                width:260px;
                height:375px;
                background-color:#000;
                font-family:'Courier New', Courier, monospace;
                padding:10px;
                overflow-y: visible;
                overflow-x: hidden;
                word-wrap: break-word;
            }
            #chat-in{
                width:100%;
                height:30px;
                background-color:#000;
            }
            #chatbox{
                width:100%;
                height:100%;
                border:0px;
                font-size:100%;
            }
            
        </style>

        <!-- ace editor -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.14.0/ace.js" type="text/javascript" charset="utf-8"></script>

        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    </head>
    <body onload="init()">
        <div id="container">
            <div id="editor">
                <div id="ace-code">//BMO CODE
let bmo = "cool";
console.log('bmo is ' + bmo);
console.log(make_a_game());

function make_a_game(){
    return "who wants to play video games?";
}</div>
                <!-- ace editor code -->
                <script>
                    var editor = ace.edit("ace-code");
                    editor.setTheme("ace/theme/monokai");  //change to a bluer theme if possible
                    editor.session.setMode("ace/mode/javascript");
                </script>
            </div>
            <div id="right-half">
                <div id="bmo">
                    <canvas id="bmo-face"></canvas>
                    <script>
                        var canvas = document.getElementById("bmo-face");
                        canvas.width = 280;
                        canvas.height = 175;
                        var ctx = canvas.getContext("2d");
                        var bmo_face = new Image();
                        bmo_face.src = "bmo_blank.png";
                        bmo_face.onload = function(){
                            //add background
                            ctx.fillStyle = "#000";
                            // ctx.fillRect(0, 0, 280, 175);

                            //draw the face
                            ctx.drawImage(bmo_face, 0, 0, bmo_face.width, bmo_face.height, 0, 0, 280, 175);

                            //draw a border around
                            ctx.strokeStyle = "#4CAA98";
                            ctx.lineWidth = 30;
                            ctx.beginPath();
                            ctx.roundRect(0, 0, 280, 175,[40]);
                            ctx.stroke();

                            ctx.strokeStyle = "#000"
                            ctx.lineWidth = 2;
                            ctx.beginPath();
                            ctx.roundRect(14, 13, 250, 146, 25);
                            ctx.stroke();

                            
                        }
                    </script>
                </div>
                <div id="chat">
                    <div id="chat-out">
                        hello world<br>
                    </div>
                    <div id="chat-in">
                        <input type="text" id="chatbox">
                        <!-- temp chatbox -->
                        <script>
                            let chatbox = document.getElementById("chatbox");
                            chatbox.addEventListener("keyup", function(event){
                                if(event.key == "Enter"){
                                    console.log("enter pressed");
                                    let chat_out = document.getElementById("chat-out");
                                    let chatbox = document.getElementById("chatbox");
                                    let chatbox_text = chatbox.value;
                                    chatbox.value = "";
                                    chat_out.innerHTML += chatbox_text + "<br>";
                                    chat_out.scrollTop = chat_out.scrollHeight;
                                }
                            });
                        </script>
                    </div>
                </div>
            </div>
            
        </div>
        

        <!-- bmo face render -->
        <!-- <script>
            var canvas = document.getElementById("bmo-face");
            var ctx = canvas.getContext("2d");
            var bmo_face = new Image();
            bmo_face.src = "bmo9.jpeg";
            bmo_face.onload = function(){
                //draw a border around
                ctx.strokeStyle = "#4CAA98";
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.roundRect(0, 0, 300, 200, 10);
                ctx.stroke();

                //draw the face
                ctx.drawImage(bmo_face, 0, 0, 300, 200);
            }
        </script> -->



    </body>
</html>